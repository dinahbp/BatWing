# *BatWing*

```
Package write in the R programming language
```
```
Version 1.0.0. Beta (2016-06-10)
```


This package calculates the Lifting Surface Area (LSA) of a Bat's wing using different formulas, and also calculate the dynamics measures of the Bat's wing.

The input files for both LSA function and Dynamics function are very specific, the colums order must be the same as the example data ( https://github.com/oleon12/BatWing/tree/master/data ).

___

The LSA formulas which this package use are the proposal by:

- **Pirlot 1977**
  
  ![P](https://latex.codecogs.com/gif.latex?LSA%20%3D%200.735%20*B%20*V)
- **Smith & Starrett 1979**
  
  ![SS](https://latex.codecogs.com/gif.latex?LSA%20%3D%202*%5B%28FA*V%29&plus;%5Cfrac%7B1%7D%7B2%7D%20*%28cos%28%5Calpha%20%29*III%20*IV%29&plus;%5Cfrac%7B1%7D%7B2%7D*%28sin%28%5Calpha%29*IV%20*V%29%5D)

  where:

  ![A](https://latex.codecogs.com/gif.latex?%5Calpha%20%3D%20arctan%28%5Cfrac%7BV%7D%7BIII%7D%29)

- **Blood & McFarlane 1988**

  ![BM](https://latex.codecogs.com/gif.latex?LSA%20%3D%202%20*%20%5B%28FA*V%29&plus;%5Cfrac%7B1%7D%7B2%7D*%28V*III%29%5D)

- **Aldrige 1988**

  ![AA](https://latex.codecogs.com/gif.latex?LSA%20%3D%20%282.85*10%5E%7B-3%7D%29*M%5E%7B%5Cfrac%7B2%7D%7B3%7D%7D)

   ___
 
   <sup>*Where:*

   <sup> _**FA** = Forearm Length_, _**B**= Wingspan_ 
   , _**III** = Digit 3 Length_, _**IV** = Digit 4 Length_
   , _**V** = Digit 5 Length_, _**M** = Mass*_
   
___


```{r}
data <- read.csv("wing.csv", header=T)
head(data)
```
|id|ForearmLength|Digit5.Length|Digit4.Length|Digit3.Length|Mass|Wingspan|
|:---|:---:|:---:|:---:|:---:|:---:|:---:|
|ODLAM-011|41.4|63.2|61.7|87.5|15.5|330|
|ODLAM-010|42.4|64.1|62.6|94.9|17.5|325|
|ODLAM-012|37.9|54.6|58.2|76.0|9|295|
|ODLAM-014|41.5|58.3|58.95|79.7|16.5|319|

```{r}
LSA <- BatWingArea(x=data, scale=F)
head(LSA$Area)
```

||BM|A|SS|P|
|:---|:---:|:---:|:---:|:---:|
|ODLAM-011|10762.960|0.2282375|11892.700|15329.160|
|ODLAM-010|11518.770|0.2909375|12604.629|15311.887|
|ODLAM-012|8288.280|0.0769500|9585.018|11838.645|
|ODLAM-014|9485.410|0.2586375|10660.039|13669.309|

```{r}
LSA$Stats
```

||FA|D5|D4|D3|M|Env|BM|A|SS|P|
|:---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|mean|43.60000|55.67000|62.89500|84.46500|17.750000|337.30000|10021.071|0.3657263|11733.002|14470.143|
|sd|10.87288|16.09049|13.36127|17.12325|8.813657|77.11326|4945.237|0.4191581|5577.896|7309.019|
|var|118.21944|258.90400|178.52358|293.20558|77.680556|5946.45556|24455364.257|0.1756935|31112928.033|53421752.534|

```{r}
LSA <- BatWingArea(x=data, scale=F, method=c("BM","SS"))
head(LSA$Area)
```

||BM|SS|
|:---|:---:|:---:|
|ODLAM-011|10762.960|11892.700|
|ODLAM-010|11518.770|12604.629|
|ODLAM-012|8288.280|9585.018|
|ODLAM-014|9485.410|10660.039|

```{r}
data <- read.csv("dynamics.csv",header=T)
head(data)
```

|ID|Mass|Env|Area|
|:---|:---:|:---:|:---:|
|ODLAM-011|15.5|330|0.011892700|
|ODLAM-010|17.5|325|0.012604629|
|ODLAM-012|9.0|295|0.009585018|
|ODLAM-014| 16.5 |319| 0.010660039

```{r}
Dym <- BatWingDynamics(x=data, scale=T)
head(Dym$Dynamics)
```

||AR   |    WL    |   RWL  |    MPS|
|:---|:---:|:---:|:---:|:---:|
|ODLAM-011  |9.156878| 12.78557 | 51.27941 |3.715662|
|ODLAM-010  |8.379858 |13.62000  |52.46032| 3.905866|
|ODLAM-012 | 9.079273 | 9.21125 | 44.28307| 3.218072|
|ODLAM-014|  9.546025 |15.18428 | 59.64392 |3.940761|

```{r}
head(Dym$Stats)
```

|| Mass|         Env|         Area|        AR|       WL   |    RWL|       MPS|
|:---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|mean |1.775000e-02| 0.337300000| 1.173300e-02| 10.333714 |15.48375|  61.14137| 3.8564452|
|sd  | 8.813657e-03| 0.077113264| 5.577896e-03|  1.752498 | 5.16755 | 20.17576 |0.3835981|
|var|  7.768056e-05| 0.005946456| 3.111293e-05|  3.071250| 26.70357 |407.06138 |0.1471475|
